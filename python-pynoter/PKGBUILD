# Maintainer: Till Smejkal <till.smejkal+packages@ossmail.de>

# Own variables
_pkgbase=pynoter
_pkgsubver="-beta"

# makepkg variables
pkgname=python-pynoter
pkgver=1.0
pkgrel=3
pkgdesc="Python library for advanced desktop notifications."
url="https://github.com/l3nkz/pynoter"
depends=('python' 'python-dbus' 'python-gobject')
makedepends=('python-setuptools')
license=('GPL3')
arch=('any')
source=("https://github.com/l3nkz/pynoter/archive/v${pkgver}${_pkgsubver}.tar.gz")
sha512sums=('67eade7454caa1f3c47124e5abdf6777e7c161cde7cdcec346b6cebf9b38f7bfdaf795511b096d66cfdcb0b28a9d68e23cacedefe0ce9caef3cfd2f8f141c0d4')


package() {
    cd "${srcdir}/${_pkgbase}-${pkgver}${_pkgsubver}"

    # Install the python package.
    python setup.py install --root="${pkgdir}/" --optimize=1

    # Install the pynoter server binary and systemd service file.
    install -D -m 755 pyNoter "${pkgdir}/usr/bin/pyNoter"
    install -D -m 644 pynoter.service "${pkgdir}/usr/lib/systemd/user/pynoter.service"
}
