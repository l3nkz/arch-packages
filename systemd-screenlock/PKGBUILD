# Maintainer: Till Smejkal <till.smejkal+packages@ossmail.de>

pkgname=systemd-screenlock
pkgver=1.0
pkgrel=2
pkgdesc="Session locking using systemd"
url="https://github.com/l3nkz/systemd-screenlock"
depends=('systemd' 'python' 'python-dbus' 'python-gobject')
license=('GPL3')
arch=('any')

source=("https://github.com/l3nkz/systemd-screenlock/archive/v${pkgver}.tar.gz")
sha512sums=('eefa35a79ad8eda717ab5c0b5c9462081123223a32520de70e0b8acc940a68900ffa53675f7a52f47cc0c0df93cd42e2acc781c600ce59a16d446d10a9444a36')

package() {
    cd "${srcdir}/${pkgname}-${pkgver}"

    # Install the binary
    install -D -m 755 lock-forward "${pkgdir}"/usr/bin/lock-forward

    # Install the service files
    install -D -m 644 screenlock.service "${pkgdir}"/usr/lib/systemd/system/screenlock.service
    install -D -m 644 lock-forward@.service "${pkgdir}"/usr/lib/systemd/user/lock-forward@.service
}
